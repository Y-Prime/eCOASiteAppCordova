<label class="instruction-text" translation="keyLastFourDigitsPhoneNumber"></label>
<input id="lastFourDigits" type="number" maxlength="4" />
<div class="numeric-pad" numeric-input="lastFourDigits"></div>



<footer data-role="footer" data-position="fixed" class="nav-footer">
 
    <h5 class="left">
        <button class="nav-button" type="button" translation="keyExit" value="Exit" next-screen="Login" next-screen-title="">
            <i class="ui-icon-fa ui-icon-fa-chevron-left pad-left"></i>Exit 
           </button>
</h5>
        <h5 class="right">
            <button class="btn-nav" type="button" value="Exit" translation="keyNext" onclick="retrievePIN()">
                <span>[Next]</span><i class="ui-icon-fa ui-icon-fa-chevron-right pad-right"></i>   
            </button>
        </h5>
</footer>

<script type="text/javascript">
    $(function () {

    });

    function retrievePIN() {
        var lastFourDigits = $('#lastFourDigits').val();
        if (lastFourDigits.length == 4 && isNumeric(lastFourDigits)) {
            patientController.validSecurityAnswer(lastFourDigits, resetPin, showMismatchedPin);
        } else {
            showInvalidPinLookup();
        }
    }

    function resetPin() {
        patientController.getCurrentPatient().IsTempPin = true;
        screenController.changeScreen('EnterNewPIN', '');
    }

    function showInvalidPinLookup() {
        app.alert(translationController.get('keyInvalidLast4Digits'));
    }
    function showMismatchedPin() {
        app.alert(translationController.get('keyIncorrectLastFourDigits'));
    }
    
</script>